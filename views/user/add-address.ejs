<%- include('../partials/user/header') %>
<section class="bg-light p-5 mt-5">
    <div class="container mb-4">
        <h2 class="mb-4">Add Address</h2>
        <div class="row justify-content-center">
            <div class="col-lg-6 col-md-8">
                <a href="/profile" class="btn btn-primary">Back to Checkout</a>
				<div style="margin-top: 10px; text-align: center; font-family: 'Poppins',sans-serif;">
                    <% 
                    if(typeof error !== "undefined"){
                       %>
                         <span style="color:#f00; font-weight: bold;"><%= error %></span>
                       <%
                     }
                    %>
                </div>

                <form style="margin-top: 15px;" action="/add-address" method="post"  onsubmit="return validateForm()">
                    <div class="mb-3">
                        <label for="username" class="form-label">Name</label>
                        <input type="text" class="form-control" id="username" placeholder="Your Name" name="name" required>
                    </div>
                    <div class="mb-3">
                        <label for="phoneNumber" class="form-label">Phone Number</label>
                        <input type="tel" class="form-control" id="phoneNumber" placeholder="Phone Number" name="mobile" inputmode="numeric" pattern="[0-9]*" oninput="this.value = this.value.replace(/[^0-9]/g, '');" required>
                    </div>
                    <div class="mb-3">
                        <label for="country" class="form-label">Country</label>
                        <input type="text" class="form-control" id="country" placeholder="Country" name="country" required>
                    </div>
                    <div class="mb-3">
                        <label for="state" class="form-label">State</label>
                        <input type="text" class="form-control" id="state" placeholder="State" name="state" required>
                    </div>
                    <div class="mb-3">
                        <label for="district" class="form-label">District</label>
                        <input type="text" class="form-control" id="district" placeholder="District" name="district" required>
                    </div>
                    <div class="mb-3">
                        <label for="city" class="form-label">City</label>
                        <input type="text" class="form-control" id="city" placeholder="City" name="city" required>
                    </div>
                    <div class="mb-3">
                        <label for="pincode" class="form-label">Pincode</label>
                        <input type="text" class="form-control" id="pincode" placeholder="Pincode" name="pincode" inputmode="numeric" pattern="[0-9]*" oninput="this.value = this.value.replace(/[^0-9]/g, '');" required>
                    </div>              
                    <div class="mb-3">
                        <label for="streetAddress" class="form-label">Address</label>
                        <input type="text" class="form-control" id="streetAddress" placeholder="Your Address" name="address" required>
                    </div>

                    <div class="d-grid">
                        <button type="submit" class="btn btn-success">Add Address</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>
<%- include('../partials/user/footer') %>
<script>
    function validateForm() {
        var name = document.getElementById("username").value.trim();
        var phoneNumber = document.getElementById("phoneNumber").value.trim();

        // Validate name
        if (name === "") {
            alert("Name cannot be blank");
            return false;
        }

        // Validate name not being just spaces
        if (!name.replace(/\s/g, '').length) {
            alert("Name cannot be just spaces");
            return false;
        }

        // Validate name not being numbers
        if (!isNaN(name)) {
            alert("Name cannot be a number");
            return false;
        }

        // Validate name not containing symbols
        if (/[^a-zA-Z0-9\s]/.test(name)) {
            alert("Name cannot contain symbols");
            return false;
        }

        // You can add similar validations for other fields if needed

        return true; // If all validations pass, the form will be submitted
    }
</script>

